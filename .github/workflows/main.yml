
name: build and deploy platform

on:
  workflow_dispatch:
    inputs:
      target_platform:
        description: 'Target Platform'
        required: false
        # default: 'dev'

jobs:
  build_dev:
    strategy:
      matrix:
        target: [dev, stage, prod]
    uses: ./.github/workflows/child.yml
    with: 
       target_platform: '${{ matrix.target_platform }}'
    secrets: inherit

  # build_stage:
  #   uses: ./.github/workflows/child.yml
  #   with: 
  #      target_platform: '${{ github.event.inputs.target_platform }}'
  #   secrets: inherit
    